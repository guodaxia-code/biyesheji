<!DOCTYPE html>
<html lang="en" xmlns:th="http:www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
</head>
<body>


    <span th:text="${user_login_error}"></span>
    <form action="/store/user/login" method="post">
        用户名：<input type="text"  id="username"  name="username"> <br/>
<!--        th:value="${cookie.rememberUsername}"-->
        密码：<input type="text" name="password"><br/>
        验证码：<input type="text" name="checkCode"> <img src="/store/checkCode" id="checkCode" alt="" > <br />
        记住用户名：<input type="checkbox" name="rememberUsername" value="yes"><br>
        <input type="submit" value="登录">
    </form>









    <script src="/store/static/mystore/js/jquery-3.3.1.js"></script>
    <script>


        /*
        获取摸个cookie的函数
         */
        function getCookie(name){
            var cookies=document.cookie;
            console.log(cookies.toString())
            var list = cookies.split(";");
            for (var i = 0; i <list.length ; i++) {
                var onecookie=list[i].split("=");
                 if (onecookie[0]==name){
                     return decodeURI(onecookie[1])
                 }
            }
            return "";

        }


        window.onload=function () {
            /*
                验证码刷新
            */
            var checkCode = document.getElementById("checkCode");
            checkCode.onclick=function () {
                checkCode.src="/store/checkCode?date="+new Date();
            }
            /*
             把cookie中的用户名给展示出来
             */
            var last_username = getCookie("rememberUsername");
            document.getElementById("username").value=last_username;

        }
    </script>
</body>
</html>